!function(t){var e={};function s(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(i,o,function(e){return t[e]}.bind(null,o));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=1)}([,function(t,e,s){"use strict";s.r(e);var i={name:"post",el:"#app",data(){return _.merge({posts:!1,config:{filter:this.$session.get("posts.filter",{order:"date desc",limit:10})},pages:0,count:"",selected:[],canEditAll:!1},window.$data)},mounted(){this.resource=this.$resource("admin/api/blog/post{/id}"),this.$watch("config.page",this.load,{immediate:!0})},watch:{"config.filter":{handler(t){this.config.page?this.config.page=0:this.load(),this.$session.set("posts.filter",t)},deep:!0}},computed:{statusOptions(){const t=_.map(this.statuses,(t,e)=>({text:t,value:e}));return[{label:this.$trans("Filter by"),options:t}]},categoryOptions(){const t=_.map(this.categories,(t,e)=>({text:t.title,value:t.id}));return[{label:this.$trans("Filter by"),options:t}]},users(){const t=_.map(this.authors,t=>({text:t.username,value:t.user_id}));return[{label:this.$trans("Filter by"),options:t}]}},methods:{active(t){return-1!=this.selected.indexOf(t.id)},save(t){this.resource.save({id:t.id},{data:t}).then((function(){this.load(),this.$notify("Post saved.")}))},status(t){const e=this.getSelected();e.forEach(e=>{e.status=t}),this.resource.save({id:"bulk"},{posts:e}).then((function(){this.load(),this.$notify("Posts saved.")}))},remove(){this.resource.delete({id:"bulk"},{ids:this.selected}).then((function(){this.load(),this.$notify("Posts deleted.")}))},toggleStatus(t){t.status=2===t.status?3:2,this.save(t)},copy(){this.selected.length&&this.resource.save({id:"copy"},{ids:this.selected}).then((function(){this.load(),this.$notify("Posts copied.")}))},load(){this.resource.query({filter:this.config.filter,page:this.config.page}).then((function(t){const{data:e}=t;this.$set(this,"posts",e.posts),this.$set(this,"pages",e.pages),this.$set(this,"count",e.count),this.$set(this,"selected",[])}))},getSelected(){return this.posts.filter((function(t){return-1!==this.selected.indexOf(t.id)}),this)},getStatusText(t){return this.statuses[t.status]},getCategoriesText(t){let e=[];return _.forEach(t,t=>{e.push(t.title)}),_.join(e,",")}}};e.default=i,Vue.ready(i)}]);