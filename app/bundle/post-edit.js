!function(t){var s={};function e(a){if(s[a])return s[a].exports;var o=s[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=s,e.d=function(t,s,a){e.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,s){if(1&s&&(t=e(t)),8&s)return t;if(4&s&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var o in t)e.d(a,o,function(s){return t[s]}.bind(null,o));return a},e.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,"a",s),s},e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},e.p="",e(e.s=5)}({0:function(t,s,e){"use strict";function a(t,s,e,a,o,i,n,r){var l,c="function"==typeof t?t.options:t;if(s&&(c.render=s,c.staticRenderFns=e,c._compiled=!0),a&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),n?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(n)},c._ssrRegister=l):o&&(l=r?function(){o.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,s){return l.call(s),u(t,s)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}e.d(s,"a",(function(){return a}))},5:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{"uk-grid":""}},[e("div",{staticClass:"uk-width-expand@m"},[e("div",{staticClass:"uk-margin"},[e("label",{staticClass:"uk-form-label"},[t._v(t._s(t._f("trans")("Title")))]),t._v(" "),e("div",{staticClass:"uk-form-controls"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.post.title,expression:"post.title"}],staticClass:"uk-input uk-form-large uk-width-expand",attrs:{type:"text",required:""},domProps:{value:t.post.title},on:{input:function(s){s.target.composing||t.$set(t.post,"title",s.target.value)}}})])]),t._v(" "),e("div",{staticClass:"uk-margin"},[e("label",{staticClass:"uk-form-label"},[t._v(t._s(t._f("trans")("Excerpt")))]),t._v(" "),e("div",{staticClass:"uk-form-controls"},[e("v-editor",{attrs:{options:{markdown:t.post.data.markdown,height:100}},model:{value:t.post.excerpt,callback:function(s){t.$set(t.post,"excerpt",s)},expression:"post.excerpt"}})],1)]),t._v(" "),e("div",{staticClass:"uk-margin"},[e("label",{staticClass:"uk-form-label"},[t._v(t._s(t._f("trans")("Content")))]),t._v(" "),e("div",{staticClass:"uk-form-controls"},[e("v-editor",{attrs:{options:{markdown:t.post.data.markdown,height:700}},model:{value:t.post.content,callback:function(s){t.$set(t.post,"content",s)},expression:"post.content"}})],1)])]),t._v(" "),e("div",{staticClass:"uk-width-medium@m"},[e("div",{staticClass:"uk-margin",staticStyle:{display:"none"}},[e("label",{staticClass:"uk-form-label"},[t._v(t._s(t._f("trans")("Type")))]),t._v(" "),e("div",{staticClass:"uk-form-controls"},t._l(t.getTypes,(function(s,a){return e("p",{key:a,staticClass:"uk-margin-small"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.post.data.type,expression:"post.data.type"}],staticClass:"uk-radio uk-margin-small-right",attrs:{type:"radio"},domProps:{value:s.type,checked:t._q(t.post.data.type,s.type)},on:{change:function(e){return t.$set(t.post.data,"type",s.type)}}}),t._v(" "),e("i",{attrs:{"uk-icon":s.icon}}),t._v(" "+t._s(s.text))])])})),0)]),t._v(" "),e("div",{staticClass:"uk-margin"},[e("label",{staticClass:"uk-form-label",attrs:{for:"form-image"}},[t._v(t._s(t._f("trans")("Image")))]),t._v(" "),e("div",{staticClass:"uk-form-controls"},[e("input-image-meta",{staticClass:"pk-image-max-height",attrs:{image:t.post.data.image},on:{"update:image":function(s){return t.$set(t.post.data,"image",s)}},model:{value:t.post.data.image,callback:function(s){t.$set(t.post.data,"image",s)},expression:"post.data.image"}})],1)]),t._v(" "),e("div",{staticClass:"uk-margin"},[e("label",{staticClass:"uk-form-label"},[t._v(t._s(t._f("trans")("Status")))]),t._v(" "),e("div",{staticClass:"uk-form-controls"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.post.status,expression:"post.status"}],staticClass:"uk-select uk-width-expand",on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.post,"status",s.target.multiple?e:e[0])}}},t._l(t.data.statuses,(function(s,a){return e("option",{key:a,domProps:{value:a}},[t._v("\n                        "+t._s(s)+"\n                    ")])})),0)])]),t._v(" "),e("div",{staticClass:"uk-margin"},[e("label",{staticClass:"uk-form-label"},[t._v(t._s(t._f("trans")("Slug")))]),t._v(" "),e("div",{staticClass:"uk-form-controls"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.post.slug,expression:"post.slug"}],staticClass:"uk-input uk-width-expand",attrs:{type:"text"},domProps:{value:t.post.slug},on:{input:function(s){s.target.composing||t.$set(t.post,"slug",s.target.value)}}})])]),t._v(" "),e("div",{staticClass:"uk-margin"},[e("label",{staticClass:"uk-form-label"},[t._v(t._s(t._f("trans")("Categories")))]),t._v(" "),e("div",{staticClass:"uk-form-controls"},t._l(t.data.categories,(function(s){return e("p",{key:s.id,staticClass:"uk-margin-small"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.post.categories_id,expression:"post.categories_id"}],staticClass:"uk-checkbox",attrs:{type:"checkbox",number:""},domProps:{value:s.id,checked:Array.isArray(t.post.categories_id)?t._i(t.post.categories_id,s.id)>-1:t.post.categories_id},on:{change:function(e){var a=t.post.categories_id,o=e.target,i=!!o.checked;if(Array.isArray(a)){var n=s.id,r=t._i(a,n);o.checked?r<0&&t.$set(t.post,"categories_id",a.concat([n])):r>-1&&t.$set(t.post,"categories_id",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.post,"categories_id",i)}}}),e("span",{staticClass:"uk-margin-small-left"},[t._v(t._s(s.title))])])])})),0)]),t._v(" "),e("div",{staticClass:"uk-margin"},[e("label",{staticClass:"uk-form-label"},[t._v(t._s(t._f("trans")("Publish on")))]),t._v(" "),e("div",{staticClass:"uk-form-controls"},[e("input-date",{model:{value:t.post.date,callback:function(s){t.$set(t.post,"date",s)},expression:"post.date"}})],1)]),t._v(" "),e("div",{staticClass:"uk-margin"},[e("label",{staticClass:"uk-form-label"},[t._v(t._s(t._f("trans")("User")))]),t._v(" "),e("div",{staticClass:"uk-form-controls"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.post.user_id,expression:"post.user_id"}],staticClass:"uk-select uk-width-expand",on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.post,"user_id",s.target.multiple?e:e[0])}}},t._l(t.data.users,(function(s){return e("option",{key:s.id,domProps:{value:s.id}},[t._v("\n                        "+t._s(s.name)+" - "+t._s(s.username)+"\n                    ")])})),0)])]),t._v(" "),e("div",{staticClass:"uk-margin"},[e("label",{staticClass:"uk-form-label"},[t._v(t._s(t._f("trans")("Restrict Access")))]),t._v(" "),e("div",{staticClass:"uk-form-controls uk-form-controls-text"},t._l(t.data.roles,(function(s){return e("p",{key:s.id,staticClass:"uk-margin-small"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.post.roles,expression:"post.roles"}],staticClass:"uk-checkbox",attrs:{type:"checkbox",number:""},domProps:{value:s.id,checked:Array.isArray(t.post.roles)?t._i(t.post.roles,s.id)>-1:t.post.roles},on:{change:function(e){var a=t.post.roles,o=e.target,i=!!o.checked;if(Array.isArray(a)){var n=s.id,r=t._i(a,n);o.checked?r<0&&t.$set(t.post,"roles",a.concat([n])):r>-1&&t.$set(t.post,"roles",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.post,"roles",i)}}}),e("span",{staticClass:"uk-margin-small-left"},[t._v(t._s(s.name))])])])})),0)]),t._v(" "),e("div",{staticClass:"uk-margin"},[e("label",{staticClass:"uk-form-label"},[t._v(t._s(t._f("trans")("Options")))]),t._v(" "),e("div",{staticClass:"uk-form-controls uk-form-controls-text"},[e("p",{staticClass:"uk-margin-small"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.post.data.markdown,expression:"post.data.markdown"}],staticClass:"uk-checkbox",attrs:{type:"checkbox",value:"1"},domProps:{checked:Array.isArray(t.post.data.markdown)?t._i(t.post.data.markdown,"1")>-1:t.post.data.markdown},on:{change:function(s){var e=t.post.data.markdown,a=s.target,o=!!a.checked;if(Array.isArray(e)){var i=t._i(e,"1");a.checked?i<0&&t.$set(t.post.data,"markdown",e.concat(["1"])):i>-1&&t.$set(t.post.data,"markdown",e.slice(0,i).concat(e.slice(i+1)))}else t.$set(t.post.data,"markdown",o)}}}),e("span",{staticClass:"uk-margin-small-left"},[t._v(t._s(t._f("trans")("Enable Markdown")))])])]),t._v(" "),e("p",{staticClass:"uk-margin-small"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.post.comment_status,expression:"post.comment_status"}],staticClass:"uk-checkbox",attrs:{type:"checkbox",value:"1"},domProps:{checked:Array.isArray(t.post.comment_status)?t._i(t.post.comment_status,"1")>-1:t.post.comment_status},on:{change:function(s){var e=t.post.comment_status,a=s.target,o=!!a.checked;if(Array.isArray(e)){var i=t._i(e,"1");a.checked?i<0&&t.$set(t.post,"comment_status",e.concat(["1"])):i>-1&&t.$set(t.post,"comment_status",e.slice(0,i).concat(e.slice(i+1)))}else t.$set(t.post,"comment_status",o)}}}),e("span",{staticClass:"uk-margin-small-left"},[t._v(t._s(t._f("trans")("Enable Comments")))])])])])])])])};a._withStripped=!0;var o={props:["post","data"],section:{label:"Settings",priority:0},computed:{getTypes:()=>[{icon:"file-text",text:"Article Content",type:"article"},{icon:"play-circle",text:"Video Content",type:"video"},{icon:"album",text:"Gallery Content",type:"gallery"}]}},i=e(0),n=Object(i.a)(o,a,[],!1,null,null,null);n.options.__file="app/components/post-content.vue";const r={el:"#app",name:"Post",data(){return _.merge({sections:[],active:this.$session.get("post.edit.tab.active",0)},window.$data)},created(){const t=[];_.forIn(this.$options.components,(s,e)=>{s.section&&t.push(_.extend({name:e,priority:0},s.section))}),this.$set(this,"sections",_.sortBy(t,"priority")),_.isArray(this.post.categories_id)||(this.post.categories_id=[])},mounted(){const t=this;this.tab=UIkit.tab("#tab",{connect:"#content"}),UIkit.util.on(this.tab.connects,"show",(s,e)=>{if(e==t.tab)for(const s in e.toggles)if(e.toggles[s].classList.contains("uk-active")){t.$session.set("post.edit.tab.active",s),t.active=s;break}}),this.tab.show(this.active)},methods:{submit(){this.post.categories_id.length?this.$http.post("admin/api/blog/post",{id:this.post.id,data:this.post}).then(t=>{const s=t.data;this.post.id||window.history.replaceState({},"",this.$url.route("admin/blog/post/edit",{id:s.post.id,type:s.post.type})),this.$set(this,"post",s.post),this.$notify(this.$trans("Saved"))}).catch(t=>{this.$notify(t.data,"danger")}):this.$notify(this.$trans("You must choose at least one category."),"danger")}},components:{Section:n.exports}};s.default=r;window.Post=r,Vue.ready(window.Post)}});